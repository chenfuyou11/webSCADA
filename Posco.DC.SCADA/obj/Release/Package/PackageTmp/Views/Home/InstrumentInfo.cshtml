@model Model.ModelViews.Instrument_View 
@{
    Layout = null;
}

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>智能能效管控系统</title>
    <link href="~/Content/ListLayui/static/admin/layui/css/layui.css" rel="stylesheet" />
    <link href="~/Content/bootstrap.css" rel="stylesheet" />
    <link href="~/Content/ListLayui/static/admin/css/admin.css" rel="stylesheet" />
</head>

<body>
    <div class="layui-tab page-content-wrap">
        <ul class="layui-tab-title">
            <li class="layui-this">空压机表</li>
            <li>干燥机表</li>
            <li>过滤器表</li>
            <li>冷干机表</li>
        </ul>
        <div class="layui-tab-content">
            
           
            <!--空压机表-->
            <div class="layui-tab-item layui-show">
                <form method="post" action="/Home/ExportInstrumentExcel?type=01">
                    <input type="submit" value="导出Excel" class="btn btn-success" />
                </form>
                <div class="page-content-wrap">
                    <div class="layui-form" id="table-list">
                        <table class="layui-table" lay-skin="line">
                            <colgroup>
                                <col class="hidden-xs">
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                            </colgroup>
                            <thead>
                                <tr>
                                    <th class="hidden-xs">空压机</th>
                                    <th class="hidden-xs">形式</th>
                                    <th class="hidden-xs">额定排气量</th>
                                    <th>额定功率</th>
                                    <th>额定电流</th>
                                    <th>额定压力</th>
                                    <th>品牌</th>
                                    <th>安装日期</th>
                                    <th>机组编号</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.centri)
                                {
                                    <tr id='node-1' class="parent collapsed ">
                                        <td>@item.Code</td>
                                        <td>@item.Type</td>
                                        <td>@item.Rated_Q</td>
                                        <td>@item.Rated_Power</td>
                                        <td>@item.Rated_A</td>
                                        <td>@item.DesignPressure</td>
                                        <td>@item.Manufacture</td>
                                        <td>@item.RunYear</td>
                                        <td>@item.SerialNumber</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!--干燥机表-->
            <div class="layui-tab-item">
                <form method="post" action="/Home/ExportInstrumentExcel?type=02">
                    <input type="submit" value="导出Excel" class="btn btn-success" />
                </form>
                <div class="page-content-wrap">
                    <div class="layui-form" id="table-list">
                        <table class="layui-table" lay-skin="line">
                            <colgroup>
                                <col class="hidden-xs">
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                            </colgroup>
                            <thead>
                                <tr>
                                    <th class="hidden-xs">吸附式干燥机</th>
                                    <th class="hidden-xs">形式</th>
                                    <th class="hidden-xs">额定处理量</th>
                                    <th>额定功率</th>
                                    <th>额定压力</th>
                                    <th>再生耗气率</th>
                                    <th>品牌</th>
                                    <th>安装日期</th>
                                    <th>机组编号</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.drys)
                                {
                                    <tr id='node-1' class="parent collapsed ">
                                        <td>@item.Code</td>
                                        <td>@item.Type</td>
                                        <td>@item.Rated_Q</td>
                                        <td>@item.Rated_Power</td>
                                        <td>@item.DesignPressure</td>
                                        <td>@item.GasConsumptionRate</td>
                                        <td>@item.Manufacture</td>
                                        <td>@item.RunYear</td>
                                        <td>@item.SerialNumber</td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!--过滤器表-->
            <div class="layui-tab-item">
                <form method="post" action="/Home/ExportInstrumentExcel?type=03">
                    <input type="submit" value="导出Excel" class="btn btn-success" />
                </form>
                <div class="page-content-wrap">
                    <div class="layui-form" id="table-list">
                        <table class="layui-table" lay-skin="line">
                            <colgroup>
                                <col class="hidden-xs">
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                            </colgroup>
                            <thead>
                                <tr>
                                    <th class="hidden-xs">前置过滤器</th>
                                    <th class="hidden-xs">形式</th>
                                    <th class="hidden-xs">额定处理量</th>
                                    <th>滤芯数量</th>
                                    <th>品牌</th>
                                    <th>安装日期</th>
                                    <th>机组编号</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.fliter)
                                {
                                    <tr id='node-1' class="parent collapsed">
                                        <td>@item.Code</td>
                                        <td>@item.Type</td>
                                        <td>@item.Rated_Q</td>
                                        <td>@item.FilterNum</td>
                                        <td>@item.Manufacture</td>
                                        <td>@item.RunYear</td>
                                        <td>@item.SerialNumber</td>
                                    </tr>
                                }

                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!--冷干机表-->
            <div class="layui-tab-item">
                <form method="post" action="/Home/ExportInstrumentExcel?type=04">
                    <input type="submit" value="导出Excel" class="btn btn-success" />
                </form>
                <div class="page-content-wrap">
                    <div class="layui-form" id="table-list">
                        <table class="layui-table" lay-skin="line">
                            <colgroup>
                                <col class="hidden-xs">
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                                <col>
                            </colgroup>
                            <thead>
                                <tr class="">
                                    <th class="hidden-xs">冷干机</th>
                                    <th class="hidden-xs">形式</th>
                                    <th class="hidden-xs">额定处理量</th>
                                    <th class="hidden-xs">额定功率</th>
                                    <th>额定压力</th>
                                    <th>品牌</th>
                                    <th>安装日期</th>
                                    <th>机组编号</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model.colddrys)
                                {
                                    <tr id='node-1' class="parent collapsed ">
                                        <td>@item.Code</td>
                                        <td>@item.Type</td>
                                        <td>@item.Rated_Q</td>
                                        <td>@item.Rated_Power</td>
                                        <td>@item.DesignPressure</td>
                                        <td>@item.Manufacture</td>
                                        <td>@item.RunYear</td>
                                        <td>@item.SerialNumber</td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>  
        <script src="~/Content/ListLayui/static/admin/layui/layui.js"></script>
        <script src="~/Content/ListLayui/static/admin/js/common.js"></script>
        <script>
            layui.use(['jquery'], function () {
                var $ = layui.jquery;
                //修改状态
                $('#table-list').on('click', '.table-list-status', function () {
                    var That = $(this);
                    var status = That.attr('data-status');
                    var id = That.parent().attr('data-id');
                    if (status == 1) {
                        That.removeClass('layui-btn-normal').addClass('layui-btn-warm').html('隐藏').attr('data-status', 2);
                    } else if (status == 2) {
                        That.removeClass('layui-btn-warm').addClass('layui-btn-normal').html('显示').attr('data-status', 1);

                    }
                })
                //栏目展示隐藏
                $('.showSubBtn').on('click', function () {
                    var _this = $(this);
                    var id = _this.attr('data-id');
                    var parent = _this.parents('.parent');
                    var child = $('.child-node-' + id);
                    var childAll = $('tr[parentid=' + id + ']');
                    if (parent.hasClass('collapsed')) {
                        _this.html('-');
                        parent.addClass('expanded').removeClass('collapsed');
                        child.css('display', '');
                    } else {
                        _this.html('+');
                        parent.addClass('collapsed').removeClass('expanded');
                        child.css('display', 'none');
                        childAll.addClass('collapsed').removeClass('expanded').css('display', 'none');
                        childAll.find('.showSubBtn').html('+');
                    }

                })
            });
        </script>
</body>

</html>
